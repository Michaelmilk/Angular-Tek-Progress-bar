!function(){"use strict";angular.module("Tek.progressBar",[]).run(["$templateCache",function(t){t.put("Tek.progressBarDirective.html","<div class='progress' ng-class='bar.containerClass'><div class='progress-bar' ng-class='bar.barClass' ng-transclude></div></div>")}])}(),function(){"use strict";angular.module("Tek.progressBar").directive("tekProgressBar",function(){return{scope:{manager:"=",containerClass:"@class",barClass:"@",ngModel:"="},restrict:"E",transclude:!0,controllerAs:"bar",templateUrl:"Tek.progressBarDirective.html",bindToController:!0,controller:["$scope","$element",function(t,e){function n(t){var e=t.find("div");this.containerElement=angular.element(e[0]),this.barContainer=angular.element(e[1]),this.value=0}var r=this,s={fullClass:"full-bar",emptyClass:"empty-bar"};n.prototype.get=function(){return this.value},n.prototype.set=function(t){this.value=t,this.barContainer.css("width",t+"%"),this.updateClasses()},n.prototype.updateClasses=function(){return 0===this.value?(this.containerElement.removeClass(s.fullClass),this.containerElement.addClass(s.emptyClass)):100===this.value?(this.containerElement.removeClass(s.emptyClass),this.containerElement.addClass(s.fullClass)):(this.containerElement.removeClass(s.fullClass),void this.containerElement.removeClass(s.emptyClass))},n.prototype.setAnimation=function(t){t?this.barContainer.css("transition",""):this.barContainer.css("transition","none")},r.init=function(){r.progressObj=new n(e);var s={get:function(){return r.progressObj.get()},set:function(e){void 0!==r.ngModel?t.$evalAsync(function(){r.ngModel=e}):r.progressObj.set(e)},setAnimation:function(t){r.progressObj.setAnimation(t)}};r.manager&&(r.manager._getDefer().resolve(s),t.$on("$destroy",function(){r.manager._updateDefer()})),void 0!==r.ngModel&&t.$watch("bar.ngModel",function(t,e){t!==e&&(r.manager&&r.manager._updateValue(t),r.progressObj.set(t))})},r.init()}]}})}(),function(){"use strict";var t=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();angular.module("Tek.progressBar").factory("progressBarManager",["$q",function(e){return function(n){var r=e.defer(),s=null,i=0,a=!0,o=!1,u=function(){var t=function(t){var e;return e=t>=0&&25>t?3*Math.random()+3:t>=25&&65>t?3*Math.random():t>=65&&90>t?2*Math.random():t>=90&&99>t?.5:0,Math.round(100*(t+e))/100},e=null;return{increment:function(){l.set(t(i))},setInterval:function(){var t=this;o&&(o=!1,l.clear()),e||(e=setInterval(function(){t.increment()},300))},clearInterval:function(){clearInterval(e),e=null},isInProgress:function(){return!!e}}}(),l={_getDefer:function(){return r},_updateDefer:function(){r=e.defer(),s=null,r.promise.then(function(t){s=t,s.set(i)})},_updateValue:function(t){i=t},getPromise:function(){return r.promise},set:function(t){if("number"!=typeof t||t!==t)throw new Error("Wrong value");return 0>t&&(t=0),t>100&&(t=100),i=t,o?(o=!1,this.clear(t),this):(s&&s.set(i),this)},get:function(){return i},isInProgress:function(){return u.isInProgress()},increase:function(t){return t?this.set(i+t):u.increment(),this},start:function(){return u.setInterval(),this},stop:function(){return u.clearInterval(),this},done:function(){return this.stop(),this.set(100),o=!0,this},reset:function(){return this.stop(),this.set(0),this},clear:function(n){var r=this.isAnimated(),s=this;this.stop(),this.setAnimation(!1),this.reset();var i=e.defer();return t(function(){s.setAnimation(r),i.resolve()}),i.promise.then(function(){void 0!==n&&s.set(n)}),this},setAnimation:function(t){return a=!!t,r.promise.then(function(t){t.setAnimation(a)}),this},isAnimated:function(){return a}};return l._updateDefer(0),l}}])}();
//# sourceMappingURL=tek.progress-bar.min.js.map
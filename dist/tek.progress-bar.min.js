!function(){"use strict";angular.module("Tek.progressBar",[]).run(["$templateCache",function(e){e.put("Tek.progressBarDirective.html","<div class='progress' ng-class='bar.containerClass'><div class='progress-bar' ng-class='bar.barClass' ng-transclude></div></div>")}])}(),function(){"use strict";angular.module("Tek.progressBar").directive("tekProgressBar",function(){return{scope:{manager:"=",containerClass:"@class",barClass:"@",ngModel:"=",mode:"@"},restrict:"E",transclude:!0,controllerAs:"bar",templateUrl:"Tek.progressBarDirective.html",bindToController:!0,controller:["$scope","$element",function(e,t){function n(e,t){var n=e.find("div");this.mode=t,this.containerElement=angular.element(n[0]),this.containerElement.addClass(s[t+"Class"]),this.barContainer=angular.element(n[1]),this.value=0}var r=this,s={fullClass:"full-bar",emptyClass:"empty-bar",verticalClass:"vertical",horizontalClass:""};n.prototype.get=function(){return this.value},n.prototype.set=function(e){this.value=e,"horizontal"===this.mode&&this.barContainer.css("width",e+"%"),"vertical"===this.mode&&this.barContainer.css("height",e+"%"),this.updateClasses()},n.prototype.updateClasses=function(){return console.log(this.value),this.value<=0?(this.containerElement.removeClass(s.fullClass),this.containerElement.addClass(s.emptyClass)):this.value>=100?(this.containerElement.removeClass(s.emptyClass),this.containerElement.addClass(s.fullClass)):(this.containerElement.removeClass(s.fullClass),void this.containerElement.removeClass(s.emptyClass))},n.prototype.setAnimation=function(e){e===!0?this.barContainer.css("transition",""):this.barContainer.css("transition","none")},r.init=function(){r.mode="vertical"===r.mode?r.mode:"horizontal",r.progressObj=new n(t,r.mode);var s={get:function(){return r.progressObj.get()},set:function(t){void 0!==r.ngModel?e.$evalAsync(function(){r.ngModel=t}):r.progressObj.set(t)},setAnimation:function(e){r.progressObj.setAnimation(e)}};r.manager&&(r.manager._getDefer().resolve(s),e.$on("$destroy",function(){r.manager._updateDefer()})),void 0!==r.ngModel&&e.$watch("bar.ngModel",function(e){("number"!=typeof e||0>e||e!==e)&&(e=0),e>100&&(e=100),r.manager&&r.manager._updateValue(e),r.progressObj.set(e)})},r.init()}]}})}(),function(){"use strict";var e=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();angular.module("Tek.progressBar").factory("progressBarManager",["$q",function(t){return function(){var n=t.defer(),r=null,s=0,i=!0,o=!1,a=function(){var e=function(e){var t;return t=e>=0&&25>e?3*Math.random()+3:e>=25&&65>e?3*Math.random():e>=65&&90>e?2*Math.random():e>=90&&99>e?.5:0,Math.round(100*(e+t))/100},t=null;return{increment:function(){u.set(e(s))},setInterval:function(){var e=this;o&&(o=!1,u.clear()),t||(t=setInterval(function(){e.increment()},300))},clearInterval:function(){clearInterval(t),t=null},isInProgress:function(){return!!t}}}(),u={_getDefer:function(){return n},_updateDefer:function(){n=t.defer(),r=null,n.promise.then(function(e){r=e,r.set(s),r.setAnimation(i)})},_updateValue:function(e){s=e},getPromise:function(){return n.promise},set:function(e){if("number"!=typeof e||e!==e)throw new Error("Wrong value");return 0>e&&(e=0),e>100&&(e=100),s=e,o?(o=!1,this.clear(e),this):(r&&r.set(s),this)},get:function(){return s},isInProgress:function(){return a.isInProgress()},increase:function(e){return"number"==typeof e&&e===e?this.set(s+e):a.increment(),this},start:function(){return a.setInterval(),this},stop:function(){return a.clearInterval(),this},done:function(){return this.stop(),this.set(100),o=!0,this},reset:function(){return this.stop(),this.set(0),this},clear:function(n){var r=this.isAnimated(),s=this;this.stop(),this.setAnimation(!1),this.reset();var i=t.defer();return e(function(){s.setAnimation(r),i.resolve()}),i.promise.then(function(){void 0!==n&&s.set(n)}),this},setAnimation:function(e){return i=!!e,r&&r.setAnimation(i),this},isAnimated:function(){return i}};return u._updateDefer(0),u}}])}();
//# sourceMappingURL=tek.progress-bar.min.js.map